# 在线部署指南

## GitHub Pages 部署步骤

### 1. 确保所有文件已提交

```bash
git add .
git commit -m "准备部署"
git push
```

### 2. 启用 GitHub Pages

1. 进入 GitHub 仓库
2. 点击 **Settings**（设置）
3. 左侧菜单找到 **Pages**
4. 在 **Source** 中选择：
   - **Branch: main** (或 master)
   - **Folder: / (root)**
5. 点击 **Save**

### 3. 等待部署完成

- 通常需要 1-2 分钟
- 在 Settings > Pages 页面可以看到部署状态
- 部署成功后会有绿色勾号

## 常见问题排查

### 问题 1: 页面显示空白

**原因**：可能是 CDN 无法访问或路径问题

**解决方案**：
1. 检查浏览器控制台（F12）的错误信息
2. 如果 Three.js 无法加载，考虑使用本地版本
3. 检查图片路径是否正确

### 问题 2: 图片无法显示

**原因**：
- 图片文件太大，GitHub 可能限制
- 图片路径不正确
- 图片文件没有提交到 GitHub

**解决方案**：
1. 检查 `image/` 文件夹是否在仓库中
2. 确保图片文件已提交：
   ```bash
   git add image/
   git commit -m "添加图片"
   git push
   ```
3. 检查图片路径是否为相对路径（`image/xxx.jpg`）

### 问题 3: CDN 加载失败

**原因**：某些地区可能无法访问 unpkg.com

**解决方案**：
1. 使用多个 CDN 备用（代码已实现）
2. 或下载 Three.js 到本地（使用 `download-three.sh`）
3. 使用 `index-local.html` 而不是 `index.html`

### 问题 4: 文件大小限制

**注意**：GitHub 对单个文件有大小限制
- 单个文件建议不超过 100MB
- 如果图片太大，考虑压缩

## 推荐的部署配置

### 方案 A: 使用 GitHub Pages（最简单）

1. 确保所有文件已提交
2. 启用 GitHub Pages
3. 访问：`https://你的用户名.github.io/仓库名/`

### 方案 B: 使用 Vercel/Netlify（推荐）

**Vercel**:
1. 访问 https://vercel.com
2. 导入 GitHub 仓库
3. 自动部署

**Netlify**:
1. 访问 https://netlify.com
2. 拖拽项目文件夹或连接 GitHub
3. 自动部署

### 方案 C: 使用本地 Three.js（最稳定）

如果 CDN 有问题：
1. 运行 `./download-three.sh` 下载 Three.js
2. 使用 `index-local.html` 作为入口文件
3. 部署时确保 `lib/` 文件夹也上传

## 检查清单

部署前请确认：

- [ ] 所有文件已提交到 GitHub
- [ ] `image/` 文件夹已包含所有图片
- [ ] 图片路径使用相对路径（`image/xxx.jpg`）
- [ ] `index.html` 文件存在
- [ ] `main.js` 和 `style.css` 文件存在
- [ ] GitHub Pages 已启用
- [ ] 等待部署完成（1-2分钟）

## 测试部署

部署成功后：
1. 访问你的 GitHub Pages URL
2. 按 F12 打开控制台
3. 检查是否有错误
4. 确认图片能正常加载

## 如果仍然失败

1. 查看 GitHub Actions 日志（如果有）
2. 检查浏览器控制台的错误信息
3. 确认所有文件大小在限制内
4. 尝试使用 Vercel 或 Netlify 替代 GitHub Pages

